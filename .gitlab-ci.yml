image: docker:stable

stages:
- build
- test
- deploy

build-project:
    image: mcr.microsoft.com/dotnet/sdk:3.1
    services:
    - docker:dind
    stage: build
    only:
        - develop
    script:
    - dotnet build

build-project2:
    image: mcr.microsoft.com/dotnet/sdk:3.1
    services:
    - docker:dind
    stage: build
    only:
        - ^(feature?|bugfix?)[/-]
    script:
    - ls
    - dotnet build